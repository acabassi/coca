<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cluster-Of-Clusters Analysis — coca • coca</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cluster-Of-Clusters Analysis — coca" />
<meta property="og:description" content="This function allows to do Cluster-Of-Clusters Analysis on a binary matrix
where each column is a clustering of the data, each row corresponds to a data
point and the element in position (i,j) is equal to 1 if data point i belongs
to cluster j, 0 otherwise." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128138627-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-128138627-4');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coca</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">
    <span class="fa fa-play-circle"></span>
     
    Vignettes
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-pencil"></span>
     
    Documentation
  </a>
</li>
<li>
  <a href="https://github.com/acabassi/klic">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/acabassi/coca/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cluster-Of-Clusters Analysis</h1>
    <small class="dont-index">Source: <a href='http://github.com/acabassi/coca/blob/master/R/coca.R'><code>R/coca.R</code></a></small>
    <div class="hidden name"><code>coca.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows to do Cluster-Of-Clusters Analysis on a binary matrix
where each column is a clustering of the data, each row corresponds to a data
point and the element in position (i,j) is equal to 1 if data point i belongs
to cluster j, 0 otherwise.</p>
    </div>

    <pre class="usage"><span class='fu'>coca</span>(
  <span class='no'>moc</span>,
  <span class='kw'>K</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>maxK</span> <span class='kw'>=</span> <span class='fl'>6</span>,
  <span class='kw'>B</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>pItem</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
  <span class='kw'>hclustMethod</span> <span class='kw'>=</span> <span class='st'>"average"</span>,
  <span class='kw'>choiceKmethod</span> <span class='kw'>=</span> <span class='st'>"silhouette"</span>,
  <span class='kw'>ccClMethod</span> <span class='kw'>=</span> <span class='st'>"kmeans"</span>,
  <span class='kw'>ccDistHC</span> <span class='kw'>=</span> <span class='st'>"euclidean"</span>,
  <span class='kw'>maxIterKM</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>savePNG</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>fileName</span> <span class='kw'>=</span> <span class='st'>"coca"</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>widestGap</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>dunns</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>dunn2s</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>returnAllMatrices</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>moc</th>
      <td><p>N X C data matrix, where C is the total number of clusters
considered.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>Number of clusters.</p></td>
    </tr>
    <tr>
      <th>maxK</th>
      <td><p>Maximum number of clusters considered for the final clustering if
K is not known. Default is 6.</p></td>
    </tr>
    <tr>
      <th>B</th>
      <td><p>Number of iterations of the Consensus Clustering step.</p></td>
    </tr>
    <tr>
      <th>pItem</th>
      <td><p>Proportion of items sampled at each iteration of the Consensus
Cluster step.</p></td>
    </tr>
    <tr>
      <th>hclustMethod</th>
      <td><p>Agglomeration method to be used by the hclust function to
perform hierarchical clustering on the consensus matrix. Can be "single",
"complete", "average", etc. For more details please see ?stats::hclust.</p></td>
    </tr>
    <tr>
      <th>choiceKmethod</th>
      <td><p>Method used to choose the number of clusters if K is
NULL, can be either "AUC" (area under the curve, work in progress) or
"silhouette". Default is "silhouette".</p></td>
    </tr>
    <tr>
      <th>ccClMethod</th>
      <td><p>Clustering method to be used by the Consensus Clustering
algorithm (CC). Can be either "kmeans" for k-means clustering or "hclust" for
hiearchical clustering. Default is "kmeans".</p></td>
    </tr>
    <tr>
      <th>ccDistHC</th>
      <td><p>Distance to be used by the hiearchical clustering algorithm
inside CC. Can be "pearson" (for 1 - Pearson correlation), "spearman" (for 1-
Spearman correlation), or any of the distances provided in stats::dist()
(i.e. "euclidean", "maximum", "manhattan", "canberra", "binary" or
"minkowski"). Default is "euclidean".</p></td>
    </tr>
    <tr>
      <th>maxIterKM</th>
      <td><p>Number of iterations for the k-means clustering algorithm.
Default is 1000.</p></td>
    </tr>
    <tr>
      <th>savePNG</th>
      <td><p>Boolean. Save plots as PNG files. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>fileName</th>
      <td><p>If <code>savePNG</code> is TRUE, this is the string containing (the
first part of) the name of the output files. Can be used to specify the
folder path too. Default is "coca". The ".png" extension is automatically
added to this string.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Boolean.</p></td>
    </tr>
    <tr>
      <th>widestGap</th>
      <td><p>Boolean. If TRUE, compute also widest gap index to choose
best number of clusters. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>dunns</th>
      <td><p>Boolean. If TRUE, compute also Dunn's index to choose best
number of clusters. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>dunn2s</th>
      <td><p>Boolean. If TRUE, compute also alternative Dunn's index to
choose best number of clusters. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>returnAllMatrices</th>
      <td><p>Boolean. If TRUE, return consensus matrices for all
considered values of K. Default is FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function returns a list containing:</p>
<dt>consensusMatrix</dt><dd><p>a symmetric matrix where the element in position
(i,j) corresponds to the proportion of times that items i and j have been
clustered together and a vector of cluster labels.</p></dd>
<dt>clusterLabels</dt><dd><p>the final cluster labels.</p></dd>
<dt>K</dt><dd><p>the final number of clusters. If provided by the user, this is
the same as the input. Otherwise, this is the number of clusters selected via
the requested method (see argument <code>choiceKmethod</code>).</p></dd>
<dt>consensusMatrices</dt><dd><p>if returnAllMatrices = TRUE, this array
also returned, containing the consensus matrices obtained for each of the
numbers of clusters considered by the algorithm.</p></dd>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>The Cancer Genome Atlas, 2012. Comprehensive molecular
portraits of human breast tumours. Nature, 487(7407), pp.61–70.</p>
<p>Cabassi, A. and Kirk, P. D. W. (2019). Multiple kernel learning
for integrative consensus clustering of 'omic datasets. arXiv preprint.
arXiv:1904.07701.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Load data</span>
<span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>()
<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>1</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"dataset1.csv"</span>,
<span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"coca"</span>), <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>1</span>))
<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>2</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"dataset2.csv"</span>,
<span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"coca"</span>), <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>1</span>))
<span class='no'>data</span><span class='kw'>[[</span><span class='fl'>3</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"dataset3.csv"</span>,
<span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"coca"</span>), <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>1</span>))

<span class='co'># Build matrix of clusters</span>
<span class='no'>outputBuildMOC</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='buildMOC.html'>buildMOC</a></span>(<span class='no'>data</span>, <span class='kw'>M</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>distances</span> <span class='kw'>=</span> <span class='st'>"cor"</span>)

<span class='co'># Extract matrix of clusters</span>
<span class='no'>moc</span> <span class='kw'>&lt;-</span> <span class='no'>outputBuildMOC</span>$<span class='no'>moc</span>

<span class='co'># Do Cluster-Of-Clusters Analysis</span>
<span class='no'>outputCOCA</span> <span class='kw'>&lt;-</span> <span class='fu'>coca</span>(<span class='no'>moc</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># Extract cluster labels</span>
<span class='no'>clusterLabels</span> <span class='kw'>&lt;-</span> <span class='no'>outputCOCA</span>$<span class='no'>clusterLabels</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://alessandracabassi.wordpress.com'>Alessandra Cabassi</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


